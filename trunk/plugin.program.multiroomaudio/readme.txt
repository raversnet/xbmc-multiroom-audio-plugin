MultiroomAudio Plugin v1.0.4 (BETA)
Author: teshephe
Based off of the very fine work of the Launcher Plugin - leo212  (Thanks Lior!!)

The purpose of this plugin is to facilitate the implementation and framework for a True Multi-Room "Syncronized Audio" 
AND Video solution for XBMC.  This is why I have chosen VLC as the program of choice for this effort. Not only does it support
just about all audio and video formats very well but it provides the inherent capability to provide client/server streaming 
syncronization over the local network which means that no more "out-of-phase" audio issues for those of you that have more
than one XBMC box in your home.

This is the 2nd release of this plugin New Features Include: 

- Full support for Streaming both Video and Audio
- Plugin Settings Dialogue for Initial setup of Streaming Server
- Creates a custom playercorefactory.xml file in userdata directory for tighter integration with XBMC
- Stops Media on native XBMC when activating a Client
- Notification for Client - Activate / Deactivated

To Do's:
- Source Playing dialogue/popup after activating Audio source
- Integretion of vlc.py script for native vlc control from within XBMC
- Even Tighter and Seamless operation within XBMC
- Deletion of associated source config files when removing an AV Source.

All comments, suggestions, help are very welcome.

FYI... at the moment the plugin requires that a master vlc streaming server be configured.  In my home I have the following:

                               ________________
                               |  Master XBMC  |<------------------> XMBC Remote (iPhone)  (You can use any app of your choice for control)
                               |  Srvr (main)  |
                               |_______________|  <-------------------| There are no speakers on this machine - I created a virtual sound out and i pipe all audio out to vlc.
                                       |                                VLC is configured to stream the virtual source to upd://224.0.0.122:1122  (Your choice but VLC is Key!)
                                       |
                                   LAN/Wifi
               ________________________|_______________________                      
               |                       |                       |
           ____|____               ____|____               ____|____
          |  XBMC  |              |  XBMC  |              |  XBMC  |
          |Client 1|              |Client 2|              |Client 3|   <--------------|  All clients have MultiroomAudio plugin and are configured as slaves and source is the master
          |  LRm   |              | Office |              |  Pool  |                     server of udp://@224.0.0.122:1122
          |________|              |________|              |________|


There are alot of different ways to stream audio throughout the home but THE KEY is Syncronized AUDIO!!!!

This plugin requires the following:

NiX  (Ubuntu Karmic and Lucid have been thoroughly tested)
XBMC 9.11 (Camelot) or higher
xdotool  (do:  sudo apt-get install xdotool )  No configuration is necessary
wmctrl   (do:  sudo apt-get install xdotool )  No configuration is necessary
xterm    (Should already be included in your Ubuntu dist)
vlc 1.0 or higher (do: sudo apt-get vlc vlc-plugin* )

KNOWN ISSUES:
1 - With XBMCLive 9.11, need to figure out how to correct X display issues which cause the 
    scripts to hang without having to ssh in and executing script manually to release
    the cvlc Client based session(s).
2 - No Win32 OS XBMC support (yet) - script needs to mature with respect to proper window control - it is possible though
3 - No Mac OS XBMC support (yet) - could use some help here since I don't use a MAC
 

INSTALLATION:

After you have met the minimum dependencies mentioned in the WikiReadme?...

1) Place/copy the plugin in your ~/.xbmc/plugins/programs 

2) Proceed to Programs/Program plugins/MultiroomAudio? and bring up the context
   menu for the plugin and configure or keep the default settings and select OK to save the settings. 

3) Select MultiroomAudio? plugin and configure a source or two.
   Note: Define a source for localhost (the default is: udp://@224.1.1.152:1152) 

4) After defining your sources, Restart XBMC so the it uses the new playercorefactory.xml generated by the plugin. 

5) Now your good to go...

Usage:

To use the plugin lets say to stream a video throughout the house...

1) Goto the MultiroomAudio? plugin and activate the Localhost client (created earlier) 2) Once activated, now goto you video section and navigate to 
   a video that you want to play/stream... select the context menu for the item and select "play using" and choose Video_Stream?.... viola! now you are 
   streaming video throughout the home 

3) You can now goto other XBMC's and use the plugin loaded on them to listen in provide that you have created a source to use. ;-) 

You can use the same process described above for music as well. At this time, the plugin only supports streaming one media file at a time unless you 
create a playlist and use that to pass onto the streamer using the "play using"

Enjoy! 
